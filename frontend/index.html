<!DOCTYPE html>
<html>
<head>
  <title>Stock Dashboard</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

<h2>Stock Dashboard</h2>

<select id="company">
  <option value="INFY">INFY</option>
  <option value="TCS">TCS</option>
  <option value="RELIANCE">RELIANCE</option>
</select>

<button onclick="loadData()">Show Chart</button>

<canvas id="chart"></canvas>

<script>
async function loadData() {
  const symbol = document.getElementById("company").value;
  const res = await fetch(`http://127.0.0.1:8000/data/${symbol}`);
  const data = await res.json();

  const dates = data.map(d => d.date);
  const prices = data.map(d => d.close);

  new Chart(document.getElementById("chart"), {
    type: "line",
    data: {
      labels: dates,
      datasets: [{
        label: "Closing Price",
        data: prices
      }]
    }
  });
}
</script>

</body>
</html>
